name: Maintain Ardoq Tech Stack
run-name: ${{ github.actor }} is testing out GitHub Actions 🚀
on:
  push:
    branches:
      - master
      - main
      - DTSSE-2204/ardoq-integration-prototype
jobs:
  Maintain-Ardoq-Tech-Stack:
    runs-on: ubuntu-latest
    steps:
      - run: echo "🔎 The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Check out repository code
        uses: actions/checkout@v3

      - run: echo "💡 The ${{ github.repository }} repository has been cloned to the runner."
      - name: List dependencies
        run: |
          echo "DEPS=$(./gradlew -q dependencies | grep ^\\+ | cut -c 5- | sed 's/ \\-\\> /:/g' | grep -E -i '^.+:.+:.+\$' | sed -E 's/(.*):/\\1 -> /' | sed 's/([\\*n])//')" >> $GITHUB_ENV
        id: deps

      - name: output deps
        run: |
          echo "${{ env.DEPS }}"

      - run: echo "🍏 This job's status is ${{ job.status }}."
